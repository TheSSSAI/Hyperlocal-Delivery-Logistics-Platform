<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Modal Dialog Component</title>
  <style>
    /* CSS Reset */
    *, *::before, *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    /* Design System Tokens (CSS Custom Properties) */
    :root {
      /* Typography */
      --font-primary: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
      --font-size-h3: 28px;
      --font-size-body: 16px;
      --font-size-caption: 14px;
      --font-weight-bold: 700;
      --font-weight-semibold: 600;
      --font-weight-normal: 400;

      /* Colors */
      --color-primary-500: #0068FF;
      --color-primary-600: #0053CC;
      --color-primary-700: #003E99;
      --color-primary-100: #B8D4FF;
      --color-primary-50: #E6F0FF;
      
      --color-danger-500: #FF4D4D;
      --color-danger-600: #D93636;
      --color-danger-700: #B32D2D;

      --color-neutrals-white: #FFFFFF;
      --color-neutrals-gray-50: #F7F9FC;
      --color-neutrals-gray-100: #E9EDF2;
      --color-neutrals-gray-200: #D3D9E1;
      --color-neutrals-gray-300: #BCC4CF;
      --color-neutrals-gray-500: #8E9BAA;
      --color-neutrals-gray-700: #555D66;
      --color-neutrals-gray-800: #383E44;
      --color-neutrals-gray-900: #1C1F22;

      /* Spacing */
      --space-4: 4px;
      --space-8: 8px;
      --space-12: 12px;
      --space-16: 16px;
      --space-24: 24px;
      --space-32: 32px;
      --space-48: 48px;

      /* Borders */
      --border-radius-md: 8px;
      --border-radius-lg: 12px;
      
      /* Shadows */
      --shadow-lg: 0px 8px 24px rgba(28, 31, 34, 0.12);
    }
    
    /* Base Styles */
    body {
      font-family: var(--font-primary);
      background-color: var(--color-neutrals-gray-50);
      color: var(--color-neutrals-gray-800);
      line-height: 1.6;
      padding: var(--space-48);
    }

    h1 {
      font-size: 32px;
      color: var(--color-neutrals-gray-900);
      margin-bottom: var(--space-16);
    }
    
    h2 {
      font-size: 24px;
      color: var(--color-neutrals-gray-800);
      margin-bottom: var(--space-32);
      border-bottom: 1px solid var(--color-neutrals-gray-200);
      padding-bottom: var(--space-16);
    }

    p {
      color: var(--color-neutrals-gray-700);
    }

    .showcase {
        display: flex;
        flex-direction: column;
        gap: var(--space-32);
        max-width: 800px;
        margin: 0 auto;
    }
    
    .showcase-group {
        display: flex;
        align-items: center;
        gap: var(--space-16);
    }

    /* Button Component Styles */
    .btn {
      font-family: var(--font-primary);
      font-size: var(--font-size-body);
      font-weight: var(--font-weight-semibold);
      padding: var(--space-12) var(--space-24);
      border-radius: var(--border-radius-md);
      border: none;
      cursor: pointer;
      transition: all 0.2s ease-in-out;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: var(--space-8);
      text-decoration: none;
    }
    .btn:focus-visible {
        outline: 3px solid var(--color-primary-100);
        outline-offset: 2px;
    }
    .btn--primary {
      background-color: var(--color-primary-500);
      color: var(--color-neutrals-white);
    }
    .btn--primary:hover {
      background-color: var(--color-primary-600);
    }
    .btn--primary:active {
      background-color: var(--color-primary-700);
      transform: scale(0.98);
    }
    .btn--secondary {
      background-color: var(--color-neutrals-white);
      color: var(--color-neutrals-gray-800);
      border: 1px solid var(--color-neutrals-gray-300);
    }
    .btn--secondary:hover {
      background-color: var(--color-neutrals-gray-50);
      border-color: var(--color-neutrals-gray-500);
    }
    .btn--danger {
      background-color: var(--color-danger-500);
      color: var(--color-neutrals-white);
    }
    .btn--danger:hover {
        background-color: var(--color-danger-600);
    }
    .btn--danger:active {
        background-color: var(--color-danger-700);
    }
    .btn:disabled {
        background-color: var(--color-neutrals-gray-200);
        color: var(--color-neutrals-gray-500);
        cursor: not-allowed;
    }
    
    /* Icon Styles */
    .icon {
        width: 20px;
        height: 20px;
        stroke: currentColor;
        stroke-width: 2;
        fill: none;
        stroke-linecap: round;
        stroke-linejoin: round;
    }

    /* Form Input Styles */
    .form-group {
        display: flex;
        flex-direction: column;
        gap: var(--space-8);
        width: 100%;
    }
    .label {
        font-size: var(--font-size-caption);
        font-weight: var(--font-weight-semibold);
        color: var(--color-neutrals-gray-800);
    }
    .text-input {
        font-family: var(--font-primary);
        font-size: var(--font-size-body);
        padding: var(--space-12) var(--space-16);
        border: 1px solid var(--color-neutrals-gray-300);
        border-radius: var(--border-radius-md);
        background-color: var(--color-neutrals-white);
        width: 100%;
        transition: border-color 0.2s, box-shadow 0.2s;
    }
    .text-input:focus {
        outline: none;
        border-color: var(--color-primary-500);
        box-shadow: 0 0 0 3px var(--color-primary-100);
    }
    .text-input.error {
      border-color: var(--color-danger-500);
    }
    .text-input.error:focus {
      box-shadow: 0 0 0 3px rgba(255, 77, 77, 0.2);
    }

    /* Modal Dialog Styles */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(28, 31, 34, 0.6);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease, visibility 0.3s ease;
    }
    .modal-overlay.open {
      opacity: 1;
      visibility: visible;
    }
    .modal-dialog {
      background-color: var(--color-neutrals-white);
      border-radius: var(--border-radius-lg);
      box-shadow: var(--shadow-lg);
      width: 90vw;
      max-width: 500px;
      display: flex;
      flex-direction: column;
      transform: scale(0.95);
      transition: transform 0.3s ease;
    }
    .modal-overlay.open .modal-dialog {
      transform: scale(1);
    }

    .modal-header {
      padding: var(--space-24);
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 1px solid var(--color-neutrals-gray-100);
    }
    .modal-title {
      font-size: var(--font-size-h4);
      font-weight: var(--font-weight-semibold);
      color: var(--color-neutrals-gray-900);
    }
    .modal-close-btn {
        background: none;
        border: none;
        cursor: pointer;
        color: var(--color-neutrals-gray-500);
        padding: var(--space-4);
        border-radius: 50%;
    }
    .modal-close-btn:hover {
        background-color: var(--color-neutrals-gray-100);
        color: var(--color-neutrals-gray-800);
    }

    .modal-body {
      padding: var(--space-24);
      display: flex;
      flex-direction: column;
      gap: var(--space-16);
    }
    .modal-body p {
        font-size: var(--font-size-body);
        color: var(--color-neutrals-gray-700);
        line-height: 1.6;
    }

    .modal-footer {
      padding: var(--space-16) var(--space-24);
      display: flex;
      justify-content: flex-end;
      gap: var(--space-12);
      background-color: var(--color-neutrals-gray-50);
      border-bottom-left-radius: var(--border-radius-lg);
      border-bottom-right-radius: var(--border-radius-lg);
    }
    
    .critical-action-warning {
        background-color: rgba(255, 77, 77, 0.05);
        border: 1px solid rgba(255, 77, 77, 0.2);
        padding: var(--space-16);
        border-radius: var(--border-radius-md);
        font-size: var(--font-size-caption);
    }
    .critical-action-warning strong {
        color: var(--color-danger-600);
    }

    /* Screen Variations for Demo */
    .screen-variations {
        margin-top: var(--space-48);
        border-top: 1px dashed var(--color-neutrals-gray-300);
        padding-top: var(--space-32);
    }
    .variation-group {
        margin-bottom: var(--space-32);
    }
    .variation-group h3 {
        font-size: 20px;
        margin-bottom: var(--space-8);
        color: var(--color-neutrals-gray-800);
    }
    .variation-group normal {
        font-style: italic;
        color: var(--color-neutrals-gray-600);
        display: block;
        margin-bottom: var(--space-16);
    }
  </style>
</head>
<body>
  <div class="showcase">
    <h1>Modal Dialog Component Showcase</h1>
    <p>This screen demonstrates the different variants of the Modal Dialog component. Click the buttons below to trigger each type of modal.</p>
    
    <div class="showcase-group">
      <button class="btn btn--secondary" type="button" data-modal-trigger="confirmation-modal">Open Confirmation Modal</button>
      <button class="btn btn--secondary" type="button" data-modal-trigger="form-modal">Open Form Modal</button>
      <button class="btn btn--secondary" type="button" data-modal-trigger="critical-action-modal">Open Critical Action Modal</button>
    </div>
  </div>
  
  <!-- MODAL DIALOGS (hidden by default) -->
  
  <!-- Variant 1: Confirmation Modal -->
  <div class="modal-overlay" id="confirmation-modal" role="dialog" aria-modal="true" aria-labelledby="confirmation-modal-title">
    <div class="modal-dialog">
      <header class="modal-header">
        <h3 class="modal-title" id="confirmation-modal-title">Confirm Action</h3>
        <button class="modal-close-btn" aria-label="Close dialog" data-modal-close>
            <svg class="icon" viewBox="0 0 24 24"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
        </button>
      </header>
      <div class="modal-body">
        <p>Are you sure you want to proceed with this action? This can't be undone.</p>
      </div>
      <footer class="modal-footer">
        <button class="btn btn--secondary" type="button" data-modal-close>Cancel</button>
        <button class="btn btn--primary" type="button">Confirm</button>
      </footer>
    </div>
  </div>

  <!-- Variant 2: Form Modal -->
  <div class="modal-overlay" id="form-modal" role="dialog" aria-modal="true" aria-labelledby="form-modal-title">
    <div class="modal-dialog">
      <header class="modal-header">
        <h3 class="modal-title" id="form-modal-title">Create New Category</h3>
        <button class="modal-close-btn" aria-label="Close dialog" data-modal-close>
          <svg class="icon" viewBox="0 0 24 24"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
        </button>
      </header>
      <div class="modal-body">
        <div class="form-group">
            <label for="category-name" class="label">Category Name</label>
            <input type="text" id="category-name" class="text-input" placeholder="e.g., Appetizers">
        </div>
        <div class="form-group">
            <label for="category-description" class="label">Description (Optional)</label>
            <textarea id="category-description" class="text-input" rows="3" placeholder="A short description of the category"></textarea>
        </div>
      </div>
      <footer class="modal-footer">
        <button class="btn btn--secondary" type="button" data-modal-close>Cancel</button>
        <button class="btn btn--primary" type="button">Create Category</button>
      </footer>
    </div>
  </div>

  <!-- Variant 3: Critical Action Modal -->
  <div class="modal-overlay" id="critical-action-modal" role="dialog" aria-modal="true" aria-labelledby="critical-action-modal-title">
    <div class="modal-dialog">
      <header class="modal-header">
        <h3 class="modal-title" id="critical-action-modal-title">Confirm Permanent Deletion</h3>
        <button class="modal-close-btn" aria-label="Close dialog" data-modal-close>
            <svg class="icon" viewBox="0 0 24 24"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
        </button>
      </header>
      <div class="modal-body">
        <p>This action is irreversible. You are about to permanently delete the vendor 'Global Foods'. All associated products and data will be lost.</p>
        <div class="critical-action-warning">
            <p>To confirm, please type <strong>Global Foods</strong> in the box below.</p>
        </div>
        <div class="form-group">
            <label for="confirmation-text" class="label">Confirmation Text</label>
            <input type="text" id="confirmation-text" class="text-input" autocomplete="off">
        </div>
      </div>
      <footer class="modal-footer">
        <button class="btn btn--secondary" type="button" data-modal-close>Cancel</button>
        <button class="btn btn--danger" type="button" id="confirm-delete-btn" disabled>Confirm Delete</button>
      </footer>
    </div>
  </div>

  <div class="screen-variations">
    <h2>Component Variations</h2>
    <div class="variation-group">
      <h3>Variant Name: "Confirmation Modal"</h3>
      <!--description--><normal>Used for simple yes/no confirmations where the action has moderate impact. It presents a clear question and two opposing actions.</normal>
    </div>
     <div class="variation-group">
      <h3>Variant Name: "Form Modal"</h3>
      <!--description--><normal>Used for focused, short tasks like creating or editing an item without navigating away from the main view. Contains form elements and is typically used for CRUD operations.</normal>
    </div>
     <div class="variation-group">
      <h3>Variant Name: "Critical Action Modal"</h3>
      <!--description--><normal>Used for destructive or irreversible actions like permanent deletion. It includes a stronger warning and an extra confirmation step (e.g., typing the item's name) to prevent accidental clicks.</normal>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
        const triggers = document.querySelectorAll('[data-modal-trigger]');
        const overlays = document.querySelectorAll('.modal-overlay');

        let lastFocusedElement;

        const openModal = (modalId) => {
            lastFocusedElement = document.activeElement;
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.classList.add('open');
                const firstFocusable = modal.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');
                if (firstFocusable) {
                    firstFocusable.focus();
                }
                document.addEventListener('keydown', handleKeydown);
            }
        };

        const closeModal = (modal) => {
            modal.classList.remove('open');
            document.removeEventListener('keydown', handleKeydown);
            if(lastFocusedElement) {
                lastFocusedElement.focus();
            }
        };

        triggers.forEach(trigger => {
            trigger.addEventListener('click', () => {
                const modalId = trigger.getAttribute('data-modal-trigger');
                openModal(modalId);
            });
        });

        overlays.forEach(overlay => {
            overlay.addEventListener('click', (event) => {
                if (event.target === overlay) {
                    closeModal(overlay);
                }
            });
            const closeButtons = overlay.querySelectorAll('[data-modal-close]');
            closeButtons.forEach(button => {
                button.addEventListener('click', () => closeModal(overlay));
            });
        });

        const handleKeydown = (event) => {
            if (event.key === 'Escape') {
                const openModal = document.querySelector('.modal-overlay.open');
                if (openModal) {
                    closeModal(openModal);
                }
            }
        };
        
        // Specific logic for the critical action modal
        const criticalModal = document.getElementById('critical-action-modal');
        if (criticalModal) {
            const confirmInput = criticalModal.querySelector('#confirmation-text');
            const deleteBtn = criticalModal.querySelector('#confirm-delete-btn');
            const expectedText = 'Global Foods';
            
            confirmInput.addEventListener('input', () => {
                if (confirmInput.value === expectedText) {
                    deleteBtn.disabled = false;
                } else {
                    deleteBtn.disabled = true;
                }
            });
        }
    });
  </script>
</body>
</html>