<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search Bar Component</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Poppins:wght@600;700&display=swap" rel="stylesheet">
    <style>
        /* CSS Reset & Base Styles */
        *, *::before, *::after {
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: #F8F9FA;
            color: #212529;
            margin: 0;
            padding: 2rem;
        }

        .showcase {
            max-width: 800px;
            margin: 0 auto;
            display: grid;
            gap: 3rem;
        }

        .showcase-section {
            padding: 2rem;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }

        .showcase-section h2 {
            font-family: 'Poppins', sans-serif;
            margin-top: 0;
            color: #002A66;
            border-bottom: 1px solid #F1F3F5;
            padding-bottom: 1rem;
            margin-bottom: 1.5rem;
        }

        .component-grid {
            display: grid;
            gap: 1.5rem;
        }

        .component-grid .state-label {
            font-size: 14px;
            color: #868E96;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }
        
        /* Design System Tokens */
        :root {
            --color-primary-500: #0068FF;
            --color-primary-600: #0053CC;
            --color-gray-50: #F8F9FA;
            --color-gray-100: #F1F3F5;
            --color-gray-500: #868E96;
            --color-gray-900: #212529;
            --color-white: #FFFFFF;
            --font-family-secondary: 'Inter', sans-serif;
            --font-size-body: 16px;
            --spacing-xs: 4px;
            --spacing-sm: 8px;
            --spacing-md: 16px;
            --border-radius-full: 9999px;
            --shadow-focus: 0 0 0 3px rgba(0, 104, 255, 0.2);
        }

        /* Search Bar Component CSS */
        .search-bar-wrapper {
            position: relative;
            display: flex;
            align-items: center;
            background-color: var(--color-gray-50);
            border: 1px solid var(--color-gray-100);
            border-radius: var(--border-radius-full);
            transition: border-color 0.2s ease, box-shadow 0.2s ease;
        }
        
        .search-bar-wrapper:focus-within {
            border-color: var(--color-primary-500);
            box-shadow: var(--shadow-focus);
            background-color: var(--color-white);
        }

        .search-bar__input {
            flex-grow: 1;
            border: none;
            background: transparent;
            outline: none;
            padding: 12px var(--spacing-md);
            font-family: var(--font-family-secondary);
            font-size: var(--font-size-body);
            color: var(--color-gray-900);
            width: 100%;
            padding-left: 0;
        }

        .search-bar__input::placeholder {
            color: var(--color-gray-500);
            opacity: 1;
        }

        .search-bar__icon-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            border: none;
            background: none;
            padding: 0;
            margin: 0;
            cursor: pointer;
            color: var(--color-gray-500);
            flex-shrink: 0;
            height: 44px;
            width: 44px;
            border-radius: var(--border-radius-full);
            transition: background-color 0.2s ease;
        }

        .search-bar__icon-btn:hover {
          background-color: var(--color-gray-100);
        }
        
        .search-bar__icon-btn:focus-visible {
            outline: 2px solid var(--color-primary-500);
            outline-offset: 2px;
        }

        .search-bar__icon {
            width: 20px;
            height: 20px;
        }

        /* Hide native search input clear button */
        .search-bar__input::-webkit-search-decoration,
        .search-bar__input::-webkit-search-cancel-button,
        .search-bar__input::-webkit-search-results-button,
        .search-bar__input::-webkit-search-results-decoration {
          -webkit-appearance:none;
        }

        .search-bar__clear-btn {
            display: none;
        }

        .search-bar--has-text .search-bar__clear-btn {
            display: inline-flex;
        }
        .search-bar--has-text .search-bar__submit-btn {
            display: none;
        }
        

        .search-bar__spinner {
            display: none;
            width: 20px;
            height: 20px;
            border: 2px solid var(--color-gray-100);
            border-top-color: var(--color-primary-500);
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }
        
        .search-bar--loading .search-bar__spinner {
            display: block;
        }

        .search-bar--loading .search-bar__submit-btn,
        .search-bar--loading .search-bar__clear-btn {
            display: none;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* With Filters Variant */
        .search-container--with-filters {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
        }

        .search-container--with-filters .search-bar-wrapper {
            flex-grow: 1;
        }

        .search-bar__filter-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: var(--spacing-sm);
            border: 1px solid #CBD5E1;
            background-color: var(--color-white);
            color: var(--color-gray-900);
            padding: 10px var(--spacing-md);
            border-radius: var(--border-radius-full);
            font-family: var(--font-family-secondary);
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s ease, border-color 0.2s ease;
            flex-shrink: 0;
            min-height: 48px;
        }

        .search-bar__filter-btn:hover {
            background-color: var(--color-gray-50);
        }

        .search-bar__filter-btn:focus-visible {
            outline: 2px solid var(--color-primary-500);
            outline-offset: 2px;
            border-color: var(--color-primary-500);
        }

        .search-bar__filter-btn .search-bar__icon {
            color: var(--color-gray-500);
        }

    </style>
</head>
<body>

<main class="showcase">
    <section class="showcase-section">
        <h2>Simple Search Bar</h2>
        <div class="component-grid">
            <div>
                <label for="search-default" class="state-label">Default State</label>
                <form role="search" class="search-form" onsubmit="return false;">
                  <div class="search-bar-wrapper">
                      <button type="submit" class="search-bar__icon-btn search-bar__submit-btn" aria-label="Search">
                          <svg class="search-bar__icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                              <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z" />
                          </svg>
                      </button>
                      <input type="search" class="search-bar__input" id="search-default" placeholder="Search for stores or items...">
                  </div>
                </form>
            </div>
            
            <div>
                <label for="search-focused" class="state-label">Focused State</label>
                 <form role="search" class="search-form" onsubmit="return false;">
                    <div class="search-bar-wrapper">
                      <button type="submit" class="search-bar__icon-btn search-bar__submit-btn" aria-label="Search">
                          <svg class="search-bar__icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                              <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z" />
                          </svg>
                      </button>
                      <input type="search" class="search-bar__input" id="search-focused" placeholder="Search for stores or items...">
                   </div>
                </form>
            </div>

            <div>
                <label for="search-loading" class="state-label">Loading State</label>
                 <form role="search" class="search-form" onsubmit="return false;">
                   <div class="search-bar-wrapper search-bar--loading">
                      <button type="submit" class="search-bar__icon-btn search-bar__submit-btn" aria-label="Search">
                          <svg class="search-bar__icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                              <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z" />
                          </svg>
                      </button>
                       <input type="search" class="search-bar__input" id="search-loading" placeholder="Search for stores or items...">
                      <div class="search-bar__icon-btn">
                          <div class="search-bar__spinner"></div>
                      </div>
                   </div>
                </form>
            </div>

            <div>
                <label for="search-with-text" class="state-label">With Text (Clearable)</label>
                 <form role="search" class="search-form" onsubmit="return false;">
                   <div class="search-bar-wrapper search-bar--has-text">
                       <button type="submit" class="search-bar__icon-btn search-bar__submit-btn" aria-label="Search">
                          <svg class="search-bar__icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                              <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z" />
                          </svg>
                       </button>
                       <input type="search" class="search-bar__input" id="search-with-text" placeholder="Search for stores or items..." value="Pizza">
                       <button type="button" class="search-bar__icon-btn search-bar__clear-btn" aria-label="Clear search">
                           <svg class="search-bar__icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                               <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                           </svg>
                       </button>
                   </div>
                </form>
            </div>
        </div>
    </section>

    <section class="showcase-section">
        <h2>Search Bar with Filters</h2>
        <div class="component-grid">
            <div>
                <label for="search-filters-default" class="state-label">Default State</label>
                <div class="search-container--with-filters">
                    <form role="search" class="search-form" onsubmit="return false;" style="flex-grow: 1;">
                      <div class="search-bar-wrapper">
                          <button type="submit" class="search-bar__icon-btn search-bar__submit-btn" aria-label="Search">
                              <svg class="search-bar__icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                  <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z" />
                              </svg>
                          </button>
                          <input type="search" class="search-bar__input" id="search-filters-default" placeholder="Search for stores or items...">
                      </div>
                    </form>
                    <button type="button" class="search-bar__filter-btn">
                         <svg class="search-bar__icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 6h9.75M10.5 6a1.5 1.5 0 11-3 0m3 0a1.5 1.5 0 10-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-9.75 0h9.75" />
                        </svg>
                        <span>Filters</span>
                    </button>
                </div>
            </div>
             <div>
                <label for="search-filters-focused" class="state-label">Focused State</label>
                <div class="search-container--with-filters">
                    <form role="search" class="search-form" onsubmit="return false;" style="flex-grow: 1;">
                      <div class="search-bar-wrapper">
                          <button type="submit" class="search-bar__icon-btn search-bar__submit-btn" aria-label="Search">
                              <svg class="search-bar__icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                  <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z" />
                              </svg>
                          </button>
                          <input type="search" class="search-bar__input" id="search-filters-focused" placeholder="Search for stores or items...">
                      </div>
                    </form>
                    <button type="button" class="search-bar__filter-btn">
                         <svg class="search-bar__icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 6h9.75M10.5 6a1.5 1.5 0 11-3 0m3 0a1.5 1.5 0 10-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-9.75 0h9.75" />
                        </svg>
                        <span>Filters</span>
                    </button>
                </div>
            </div>
        </div>
    </section>
</main>
<div>
    <h2>Component Variations</h2>
    <div>
        <h3>Variant Name: "simple"</h3>
        <normal>The default search bar with an input field and a search icon. Used for basic search functionality.</normal>
        <form role="search" class="search-form" onsubmit="return false;">
          <div class="search-bar-wrapper">
              <button type="submit" class="search-bar__icon-btn search-bar__submit-btn" aria-label="Search">
                  <svg class="search-bar__icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z" /></svg>
              </button>
              <input type="search" class="search-bar__input" placeholder="Search...">
          </div>
        </form>
    </div>
    <div>
        <h3>Variant Name: "with_filters"</h3>
        <normal>Includes a separate 'Filters' button alongside the search bar, allowing users to open an interface for applying advanced search filters.</normal>
        <div class="search-container--with-filters">
            <form role="search" class="search-form" onsubmit="return false;" style="flex-grow: 1;">
              <div class="search-bar-wrapper">
                  <button type="submit" class="search-bar__icon-btn search-bar__submit-btn" aria-label="Search">
                      <svg class="search-bar__icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z" /></svg>
                  </button>
                  <input type="search" class="search-bar__input" placeholder="Search...">
              </div>
            </form>
            <button type="button" class="search-bar__filter-btn">
                 <svg class="search-bar__icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 6h9.75M10.5 6a1.5 1.5 0 11-3 0m3 0a1.5 1.5 0 10-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-9.75 0h9.75" /></svg>
                <span>Filters</span>
            </button>
        </div>
    </div>
</div>

<script>
    // This is a CSS-focused mockup, but this script adds minimal JS for state demonstration.
    document.addEventListener('DOMContentLoaded', () => {
        // Focus state demo
        const focusedInput = document.getElementById('search-focused');
        if (focusedInput) {
            focusedInput.parentElement.classList.add('js-focus-demo');
            focusedInput.setAttribute('placeholder', 'This demonstrates the :focus-within style');
        }
        
        // Clear button functionality demo
        const searchWithText = document.getElementById('search-with-text');
        if (searchWithText) {
            const wrapper = searchWithText.closest('.search-bar-wrapper');
            const clearBtn = wrapper.querySelector('.search-bar__clear-btn');
            
            searchWithText.addEventListener('input', () => {
                if (searchWithText.value) {
                    wrapper.classList.add('search-bar--has-text');
                } else {
                    wrapper.classList.remove('search-bar--has-text');
                }
            });

            if (clearBtn) {
                clearBtn.addEventListener('click', () => {
                    searchWithText.value = '';
                    wrapper.classList.remove('search-bar--has-text');
                    searchWithText.focus();
                });
            }
        }
    });
</script>

</body>
</html>