<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Component: Modal Dialog</title>
  <style>
    /* CSS Reset */
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    html { font-size: 16px; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }
    body { font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; background-color: #F7F9FC; color: #1C1F22; line-height: 1.6; }
    button { font-family: inherit; font-size: 1rem; cursor: pointer; border: none; background-color: transparent; }
    input { font-family: inherit; font-size: 1rem; }

    /* Design System Tokens (CSS Variables) */
    :root {
      /* Colors */
      --color-primary-50: #E6F0FF; --color-primary-100: #B8D4FF; --color-primary-300: #5C9EFF; --color-primary-500: #0068FF; --color-primary-600: #0053CC; --color-primary-700: #003E99;
      --color-neutrals-white: #FFFFFF; --color-neutrals-gray_100: #E9EDF2; --color-neutrals-gray_200: #D3D9E1; --color-neutrals-gray_300: #BCC4CF; --color-neutrals-gray_500: #8E9BAA; --color-neutrals-gray_700: #555D66; --color-neutrals-gray_900: #1C1F22;
      --color-semantic-error: #FF4D4D; --color-semantic-error-dark: #cc3d3d;
      
      /* Spacing */
      --space-4: 4px; --space-8: 8px; --space-12: 12px; --space-16: 16px; --space-24: 24px; --space-32: 32px;
      
      /* Typography */
      --font-primary: 'Inter', sans-serif;
      --text-h3-size: 28px; --text-h3-weight: 600;
      --text-h4-size: 20px; --text-h4-weight: 600;
      --text-body-size: 16px; --text-body-weight: 400;
      --text-caption-size: 14px; --text-caption-weight: 400;

      /* Borders & Shadows */
      --border-radius-lg: 12px; --border-radius-md: 8px;
      --shadow-lg: 0px 10px 30px rgba(28, 31, 34, 0.15);
    }

    /* Screen Layout Styles */
    .screen-container { padding: var(--space-32); max-width: 1200px; margin: 0 auto; }
    .screen-header { margin-bottom: var(--space-32); border-bottom: 1px solid var(--color-neutrals-gray_200); padding-bottom: var(--space-16); }
    .screen-header h1 { font-size: var(--text-h2-size); font-weight: 700; color: var(--color-neutrals-gray_900); }
    .screen-header p { font-size: var(--text-body-size); color: var(--color-neutrals-gray_700); margin-top: var(--space-8); }
    .screen-content { display: flex; flex-direction: column; gap: var(--space-24); }
    .interactive-triggers { display: flex; flex-wrap: wrap; gap: var(--space-16); padding: var(--space-16); background: var(--color-neutrals-white); border: 1px dashed var(--color-neutrals-gray_300); border-radius: var(--border-radius-md); }
    
    /* Icon Component */
    .icon {
        width: 1.5rem; height: 1.5rem;
        stroke-width: 2;
        stroke: currentColor;
        fill: none;
        stroke-linecap: round;
        stroke-linejoin: round;
    }

    /* Button Component Styles */
    .btn { display: inline-flex; align-items: center; justify-content: center; gap: var(--space-8); padding: var(--space-12) var(--space-24); border-radius: var(--border-radius-md); font-weight: 600; text-decoration: none; transition: all 0.2s ease-in-out; }
    .btn:focus-visible { outline: 3px solid var(--color-primary-300); outline-offset: 2px; }
    
    .btn--primary { background-color: var(--color-primary-500); color: var(--color-neutrals-white); }
    .btn--primary:hover { background-color: var(--color-primary-600); }
    .btn--primary:active { background-color: var(--color-primary-700); transform: scale(0.98); }

    .btn--secondary { background-color: transparent; color: var(--color-neutrals-gray_700); border: 1px solid var(--color-neutrals-gray_300); }
    .btn--secondary:hover { background-color: var(--color-neutrals-gray_100); border-color: var(--color-neutrals-gray_500); }
    .btn--secondary:active { background-color: var(--color-neutrals-gray_200); }

    .btn--danger { background-color: var(--color-semantic-error); color: var(--color-neutrals-white); }
    .btn--danger:hover { background-color: var(--color-semantic-error-dark); }
    
    .btn--icon { padding: var(--space-8); }
    
    /* Form Input Styles */
    .form-group { display: flex; flex-direction: column; gap: var(--space-8); margin-bottom: var(--space-16); }
    .form-group label { font-weight: 500; color: var(--color-neutrals-gray_700); }
    .form-group .text-input {
        width: 100%;
        padding: var(--space-12) var(--space-16);
        border: 1px solid var(--color-neutrals-gray_300);
        border-radius: var(--border-radius-md);
        background-color: var(--color-neutrals-white);
        font-size: var(--text-body-size);
        transition: border-color 0.2s, box-shadow 0.2s;
    }
    .form-group .text-input:focus { border: 2px solid var(--color-primary-500); outline: none; box-shadow: 0 0 0 3px var(--color-primary-100); padding: calc(var(--space-12) - 1px) calc(var(--space-16) - 1px); }

    /* Modal Dialog Component Styles */
    .modal-backdrop {
        position: fixed;
        top: 0; left: 0;
        width: 100%; height: 100%;
        background-color: rgba(28, 31, 34, 0.6);
        display: none; /* Hidden by default */
        align-items: center;
        justify-content: center;
        z-index: 1000;
        opacity: 0;
        transition: opacity 0.2s ease-in-out;
    }
    .modal-backdrop.is-open { display: flex; opacity: 1; }

    .modal-dialog {
        background-color: var(--color-neutrals-white);
        border-radius: var(--border-radius-lg);
        box-shadow: var(--shadow-lg);
        width: 100%;
        max-width: 500px;
        display: flex;
        flex-direction: column;
        transform: scale(0.95);
        transition: transform 0.2s ease-in-out;
    }
    .modal-backdrop.is-open .modal-dialog { transform: scale(1); }

    .modal-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: var(--space-16) var(--space-24);
        border-bottom: 1px solid var(--color-neutrals-gray_100);
    }
    .modal-title { font-size: var(--text-h4-size); font-weight: var(--text-h4-weight); color: var(--color-neutrals-gray_900); }
    
    .modal-close-btn { color: var(--color-neutrals-gray_500); }
    .modal-close-btn:hover { color: var(--color-neutrals-gray_900); }

    .modal-body { padding: var(--space-24); color: var(--color-neutrals-gray_700); }
    .modal-body p { margin-bottom: var(--space-16); }
    .modal-body p:last-child { margin-bottom: 0; }

    .modal-footer {
        display: flex;
        justify-content: flex-end;
        gap: var(--space-12);
        padding: var(--space-16) var(--space-24);
        background-color: var(--color-neutrals-gray_50);
        border-bottom-left-radius: var(--border-radius-lg);
        border-bottom-right-radius: var(--border-radius-lg);
    }
    
    /* Responsive (Mobile) Modal Styles */
    @media (max-width: 767px) {
        .modal-backdrop { align-items: flex-end; }
        .modal-dialog {
            max-width: 100%;
            height: auto;
            max-height: 90vh;
            border-bottom-left-radius: 0;
            border-bottom-right-radius: 0;
            transform: translateY(100%);
        }
        .modal-backdrop.is-open .modal-dialog { transform: translateY(0); }
        .modal-body { overflow-y: auto; }
    }
    
    /* Variations section for documentation */
    .screen-variations { margin-top: var(--space-32); }
    .screen-variations h2 { font-size: 32px; margin-bottom: var(--space-24); }
    .variation-group { margin-bottom: var(--space-32); }
    .variation-group h3 { font-size: 24px; margin-bottom: var(--space-16); }
    .variation-group h3 normal { font-weight: 400; font-size: 16px; color: var(--color-neutrals-gray_700); margin-left: 8px;}
    .static-demo { position: relative; padding: 24px; background: var(--color-neutrals-gray_100); border-radius: 8px; overflow: hidden; }
    .static-demo .modal-dialog { position: static; transform: none; box-shadow: none; border: 1px solid var(--color-neutrals-gray_200); }
    
  </style>
</head>
<body>
    <!-- SVG Icon Definitions -->
    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
        <symbol id="icon-alert-triangle" viewBox="0 0 24 24"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line></symbol>
        <symbol id="icon-info" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></symbol>
        <symbol id="icon-x" viewBox="0 0 24 24"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></symbol>
    </svg>

  <div class="screen-container">
    <header class="screen-header">
      <h1>Component: Modal Dialog</h1>
      <p>Modals are used to present critical information or request user input in a focused, blocking overlay.</p>
    </header>
    
    <main class="screen-content">
        <div class="interactive-triggers">
            <button class="btn btn--primary" type="button" data-modal-trigger="infoModal">Info Modal</button>
            <button class="btn btn--secondary" type="button" data-modal-trigger="formModal">Form Modal</button>
            <button class="btn btn--danger" type="button" data-modal-trigger="confirmModal">Confirmation Modal</button>
        </div>
    </main>
  </div>
  
  <!-- Modal HTML Definitions (hidden by default) -->
  
  <!-- Info Modal -->
  <div class="modal-backdrop" id="infoModal" role="dialog" aria-modal="true" aria-labelledby="infoModalTitle" aria-describedby="infoModalDesc">
      <div class="modal-dialog">
          <header class="modal-header">
              <h2 class="modal-title" id="infoModalTitle">System Update</h2>
              <button class="btn btn--icon modal-close-btn" aria-label="Close dialog" data-modal-close>
                  <svg class="icon"><use href="#icon-x"></use></svg>
              </button>
          </header>
          <div class="modal-body" id="infoModalDesc">
              <p>We've updated our terms of service and privacy policy. By continuing to use the service, you agree to the new terms.</p>
              <p>This change will take effect on the first of next month.</p>
          </div>
          <footer class="modal-footer">
              <button class="btn btn--primary" data-modal-close>Acknowledge</button>
          </footer>
      </div>
  </div>

  <!-- Form Modal -->
  <div class="modal-backdrop" id="formModal" role="dialog" aria-modal="true" aria-labelledby="formModalTitle">
      <div class="modal-dialog">
          <header class="modal-header">
              <h2 class="modal-title" id="formModalTitle">Add New Category</h2>
              <button class="btn btn--icon modal-close-btn" aria-label="Close dialog" data-modal-close>
                  <svg class="icon"><use href="#icon-x"></use></svg>
              </button>
          </header>
          <div class="modal-body">
              <div class="form-group">
                  <label for="categoryName">Category Name</label>
                  <input type="text" id="categoryName" class="text-input" placeholder="e.g., Appetizers">
              </div>
          </div>
          <footer class="modal-footer">
              <button class="btn btn--secondary" data-modal-close>Cancel</button>
              <button class="btn btn--primary" data-modal-close>Save Category</button>
          </footer>
      </div>
  </div>
  
  <!-- Confirmation Modal -->
  <div class="modal-backdrop" id="confirmModal" role="dialog" aria-modal="true" aria-labelledby="confirmModalTitle" aria-describedby="confirmModalDesc">
      <div class="modal-dialog">
          <header class="modal-header">
              <h2 class="modal-title" id="confirmModalTitle">
                  <svg class="icon" style="color: var(--color-semantic-error); vertical-align: bottom; margin-right: 8px;"><use href="#icon-alert-triangle"></use></svg>
                  Confirm Deletion
              </h2>
              <button class="btn btn--icon modal-close-btn" aria-label="Close dialog" data-modal-close>
                  <svg class="icon"><use href="#icon-x"></use></svg>
              </button>
          </header>
          <div class="modal-body" id="confirmModalDesc">
              <p>Are you sure you want to delete the product "Spicy Chicken Ramen"? This action cannot be undone.</p>
          </div>
          <footer class="modal-footer">
              <button class="btn btn--secondary" data-modal-close>Cancel</button>
              <button class="btn btn--danger" data-modal-close>Delete Product</button>
          </footer>
      </div>
  </div>

  <!-- Screen Variations Section for Static Documentation -->
  <div class="screen-container screen-variations">
    <h2>Screen Variations</h2>
    
    <div class="variation-group">
      <h3>Variant Name: "Info Modal"<normal>Used for displaying information that the user must acknowledge.</normal></h3>
      <div class="static-demo">
          <div class="modal-dialog">
              <header class="modal-header">
                  <h2 class="modal-title">System Update</h2>
                  <button class="btn btn--icon modal-close-btn" aria-label="Close dialog">
                      <svg class="icon"><use href="#icon-x"></use></svg>
                  </button>
              </header>
              <div class="modal-body">
                  <p>We've updated our terms of service.</p>
              </div>
              <footer class="modal-footer">
                  <button class="btn btn--primary">Acknowledge</button>
              </footer>
          </div>
      </div>
    </div>
    
    <div class="variation-group">
      <h3>Variant Name: "Form Modal"<normal>Used for capturing user input in a focused form.</normal></h3>
      <div class="static-demo">
          <div class="modal-dialog">
              <header class="modal-header">
                  <h2 class="modal-title">Add New Category</h2>
                  <button class="btn btn--icon modal-close-btn" aria-label="Close dialog">
                      <svg class="icon"><use href="#icon-x"></use></svg>
                  </button>
              </header>
              <div class="modal-body">
                  <div class="form-group">
                      <label for="categoryNameStatic">Category Name</label>
                      <input type="text" id="categoryNameStatic" class="text-input" placeholder="e.g., Appetizers">
                  </div>
              </div>
              <footer class="modal-footer">
                  <button class="btn btn--secondary">Cancel</button>
                  <button class="btn btn--primary">Save Category</button>
              </footer>
          </div>
      </div>
    </div>

    <div class="variation-group">
      <h3>Variant Name: "Confirmation Modal"<normal>Used for confirming a destructive or irreversible action.</normal></h3>
      <div class="static-demo">
          <div class="modal-dialog">
              <header class="modal-header">
                  <h2 class="modal-title">
                      <svg class="icon" style="color: var(--color-semantic-error); vertical-align: bottom; margin-right: 8px;"><use href="#icon-alert-triangle"></use></svg>
                      Confirm Deletion
                  </h2>
                  <button class="btn btn--icon modal-close-btn" aria-label="Close dialog">
                      <svg class="icon"><use href="#icon-x"></use></svg>
                  </button>
              </header>
              <div class="modal-body">
                  <p>Are you sure you want to delete this item? This action cannot be undone.</p>
              </div>
              <footer class="modal-footer">
                  <button class="btn btn--secondary">Cancel</button>
                  <button class="btn btn--danger">Delete Item</button>
              </footer>
          </div>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
        let lastFocusedElement;

        const openModal = (modalId) => {
            const modal = document.getElementById(modalId);
            if (!modal) return;
            
            lastFocusedElement = document.activeElement;
            modal.classList.add('is-open');
            document.body.style.overflow = 'hidden';

            // Focus management
            const focusableElements = modal.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');
            const firstFocusable = focusableElements[0];
            const lastFocusable = focusableElements[focusableElements.length - 1];

            if (firstFocusable) {
                firstFocusable.focus();
            }

            // Keyboard navigation (focus trapping)
            modal.addEventListener('keydown', (e) => {
                if (e.key === 'Tab') {
                    if (e.shiftKey) { // Shift + Tab
                        if (document.activeElement === firstFocusable) {
                            lastFocusable.focus();
                            e.preventDefault();
                        }
                    } else { // Tab
                        if (document.activeElement === lastFocusable) {
                            firstFocusable.focus();
                            e.preventDefault();
                        }
                    }
                }
                if (e.key === 'Escape') {
                    closeModal(modalId);
                }
            });
        };

        const closeModal = (modalId) => {
            const modal = document.getElementById(modalId);
            if (!modal) return;
            
            modal.classList.remove('is-open');
            document.body.style.overflow = '';

            if (lastFocusedElement) {
                lastFocusedElement.focus();
            }
        };

        document.querySelectorAll('[data-modal-trigger]').forEach(trigger => {
            trigger.addEventListener('click', () => {
                const modalId = trigger.getAttribute('data-modal-trigger');
                openModal(modalId);
            });
        });

        document.querySelectorAll('[data-modal-close]').forEach(closeBtn => {
            closeBtn.addEventListener('click', () => {
                const modal = closeBtn.closest('.modal-backdrop');
                if (modal) {
                    closeModal(modal.id);
                }
            });
        });

        // Close modal on backdrop click
        document.querySelectorAll('.modal-backdrop').forEach(backdrop => {
            backdrop.addEventListener('click', (e) => {
                if (e.target === backdrop) {
                    closeModal(backdrop.id);
                }
            });
        });
    });
  </script>
</body>
</html>