<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Modal Dialog Component</title>
  <style>
    /* CSS Reset & Base Styles */
    *, *::before, *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    :root {
      /* Design System Tokens: Colors */
      --color-primary-500: #4F46E5;
      --color-primary-600: #4338CA;
      --color-primary-700: #3730A3;
      --color-secondary-500: #6B7280;
      --color-secondary-600: #4B5563;
      --color-destructive-500: #EF4444;
      --color-destructive-600: #DC2626;
      --color-background-default: #F9FAFB;
      --color-background-surface: #FFFFFF;
      --color-text-primary: #111827;
      --color-text-secondary: #6B7280;
      --color-text-on-primary: #FFFFFF;
      --color-border-default: #E5E7EB;
      --color-overlay-backdrop: rgba(17, 24, 39, 0.6);

      /* Design System Tokens: Typography */
      --font-family-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      --font-size-base: 16px;
      --font-size-sm: 14px;
      --font-size-lg: 18px;
      --font-size-xl: 20px;
      --font-weight-normal: 400;
      --font-weight-medium: 500;
      --font-weight-semibold: 600;
      --line-height-tight: 1.25;
      --line-height-normal: 1.5;

      /* Design System Tokens: Spacing & Sizing */
      --space-1: 0.25rem; /* 4px */
      --space-2: 0.5rem;  /* 8px */
      --space-3: 0.75rem; /* 12px */
      --space-4: 1rem;    /* 16px */
      --space-5: 1.25rem; /* 20px */
      --space-6: 1.5rem;  /* 24px */

      /* Design System Tokens: Borders & Shadows */
      --border-radius-md: 0.375rem; /* 6px */
      --border-radius-lg: 0.5rem;   /* 8px */
      --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
      --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    }
    
    html, body {
      font-family: var(--font-family-sans);
      background-color: var(--color-background-default);
      color: var(--color-text-primary);
      line-height: var(--line-height-normal);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    body.modal-is-open {
      overflow: hidden;
    }

    /* Demo Screen Styles */
    .screen-container {
      padding: var(--space-6);
      max-width: 800px;
      margin: 0 auto;
    }
    .screen-header {
      border-bottom: 1px solid var(--color-border-default);
      padding-bottom: var(--space-4);
      margin-bottom: var(--space-6);
    }
    .screen-header h1 {
      font-size: 24px;
      font-weight: var(--font-weight-semibold);
    }
    .screen-variations {
      margin-top: var(--space-6);
    }
    .variation-group {
      background-color: var(--color-background-surface);
      border: 1px solid var(--color-border-default);
      border-radius: var(--border-radius-lg);
      padding: var(--space-6);
      margin-top: var(--space-4);
      box-shadow: var(--shadow-lg);
    }
    .variation-group h3 {
        font-size: var(--font-size-lg);
        font-weight: var(--font-weight-medium);
        margin-bottom: var(--space-4);
    }
    .variation-group .description {
        color: var(--color-text-secondary);
        font-size: var(--font-size-sm);
        margin-bottom: var(--space-4);
        font-style: italic;
    }
    .trigger-buttons {
      display: flex;
      gap: var(--space-4);
      flex-wrap: wrap;
    }
    
    /* ---- COMPONENT STYLES: Button ---- */
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: var(--space-2) var(--space-4);
      border: 1px solid transparent;
      border-radius: var(--border-radius-md);
      font-family: var(--font-family-sans);
      font-size: var(--font-size-sm);
      font-weight: var(--font-weight-medium);
      line-height: var(--line-height-tight);
      cursor: pointer;
      transition: background-color 0.2s, border-color 0.2s, box-shadow 0.2s;
      text-decoration: none;
    }
    .btn:focus-visible {
      outline: 2px solid var(--color-primary-500);
      outline-offset: 2px;
    }

    /* Primary Button */
    .btn--primary {
      background-color: var(--color-primary-500);
      color: var(--color-text-on-primary);
    }
    .btn--primary:hover {
      background-color: var(--color-primary-600);
    }
    .btn--primary:active {
      background-color: var(--color-primary-700);
    }

    /* Secondary Button */
    .btn--secondary {
      background-color: var(--color-background-surface);
      color: var(--color-text-primary);
      border-color: var(--color-border-default);
    }
    .btn--secondary:hover {
      background-color: #F3F4F6; /* gray-100 */
    }

    /* Destructive Button */
    .btn--destructive {
        background-color: var(--color-destructive-500);
        color: var(--color-text-on-primary);
    }
    .btn--destructive:hover {
        background-color: var(--color-destructive-600);
    }

    /* ---- COMPONENT STYLES: Icon ---- */
    .icon {
      width: 1.25em;
      height: 1.25em;
      stroke-width: 2;
      stroke: currentColor;
      fill: none;
      stroke-linecap: round;
      stroke-linejoin: round;
    }

    /* ---- COMPONENT STYLES: Form Input ---- */
    .form-group {
        margin-bottom: var(--space-4);
    }
    .form-label {
        display: block;
        font-size: var(--font-size-sm);
        font-weight: var(--font-weight-medium);
        margin-bottom: var(--space-2);
        color: var(--color-text-primary);
    }
    .form-input {
        width: 100%;
        padding: var(--space-2) var(--space-3);
        border: 1px solid var(--color-border-default);
        border-radius: var(--border-radius-md);
        font-size: var(--font-size-base);
    }
    .form-input:focus {
        outline: none;
        border-color: var(--color-primary-500);
        box-shadow: 0 0 0 1px var(--color-primary-500);
    }
    
    /* ---- COMPONENT STYLES: Modal Dialog ---- */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: var(--color-overlay-backdrop);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.2s ease, visibility 0.2s ease;
    }
    
    .modal-overlay.is-open {
      opacity: 1;
      visibility: visible;
    }
    
    .modal-dialog {
      background-color: var(--color-background-surface);
      border-radius: var(--border-radius-lg);
      box-shadow: var(--shadow-xl);
      max-width: 500px;
      width: calc(100% - 2 * var(--space-4));
      display: flex;
      flex-direction: column;
      transform: scale(0.95);
      transition: transform 0.2s ease;
    }
    
    .modal-overlay.is-open .modal-dialog {
        transform: scale(1);
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: var(--space-4) var(--space-6);
      border-bottom: 1px solid var(--color-border-default);
    }

    .modal-title {
      font-size: var(--font-size-lg);
      font-weight: var(--font-weight-semibold);
      color: var(--color-text-primary);
    }

    .modal-close-btn {
      background: none;
      border: none;
      cursor: pointer;
      color: var(--color-secondary-500);
      padding: var(--space-1);
      border-radius: var(--border-radius-md);
    }
    .modal-close-btn:hover {
      background-color: #F3F4F6;
      color: var(--color-secondary-600);
    }

    .modal-body {
      padding: var(--space-6);
      color: var(--color-text-secondary);
      line-height: var(--line-height-normal);
      font-size: var(--font-size-sm);
    }

    .modal-body p + p {
        margin-top: var(--space-4);
    }

    .modal-footer {
      display: flex;
      justify-content: flex-end;
      gap: var(--space-3);
      padding: var(--space-4) var(--space-6);
      background-color: #F9FAFB;
      border-top: 1px solid var(--color-border-default);
      border-bottom-left-radius: var(--border-radius-lg);
      border-bottom-right-radius: var(--border-radius-lg);
    }

    /* ---- RESPONSIVE ADAPTATIONS for Modal ---- */
    @media (max-width: 768px) {
      .modal-dialog {
        width: 100%;
        height: 100%;
        max-width: 100%;
        max-height: 100%;
        border-radius: 0;
        margin: 0;
      }
      .modal-body {
        flex-grow: 1;
        overflow-y: auto;
      }
    }
  </style>
</head>
<body>

  <div class="screen-container">
    <header class="screen-header">
      <h1>Modal Dialog Component</h1>
    </header>
    
    <main class="screen-content">
      <div class="screen-variations">
        <div class="variation-group">
          <h3>Variants</h3>
          <p class="description">Click the buttons below to trigger different types of modal dialogs. You can close them by clicking the 'x', the backdrop, or pressing the 'Escape' key.</p>
          <div class="trigger-buttons">
            <button class="btn btn--primary" data-modal-target="#confirmationModal">Confirmation Modal</button>
            <button class="btn btn--primary" data-modal-target="#formModal">Form Modal</button>
            <button class="btn btn--primary" data-modal-target="#infoModal">Informational Modal</button>
          </div>
        </div>
      </div>
    </main>
  </div>

  <!-- MODAL HTML STRUCTURES -->

  <!-- Confirmation Modal -->
  <div class="modal-overlay" id="confirmationModal" role="dialog" aria-modal="true" aria-labelledby="confirmationModalTitle" aria-describedby="confirmationModalDesc">
    <div class="modal-dialog">
      <header class="modal-header">
        <h2 id="confirmationModalTitle" class="modal-title">Delete Product</h2>
        <button class="modal-close-btn" aria-label="Close">
            <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 6L6 18M6 6l12 12"/></svg>
        </button>
      </header>
      <div id="confirmationModalDesc" class="modal-body">
        <p>Are you sure you want to delete this product? This action is permanent and cannot be undone.</p>
      </div>
      <footer class="modal-footer">
        <button class="btn btn--secondary modal-close-btn">Cancel</button>
        <button class="btn btn--destructive">Confirm Delete</button>
      </footer>
    </div>
  </div>

  <!-- Form Modal -->
  <div class="modal-overlay" id="formModal" role="dialog" aria-modal="true" aria-labelledby="formModalTitle">
    <div class="modal-dialog">
      <header class="modal-header">
        <h2 id="formModalTitle" class="modal-title">Create New Category</h2>
        <button class="modal-close-btn" aria-label="Close">
            <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 6L6 18M6 6l12 12"/></svg>
        </button>
      </header>
      <div class="modal-body">
        <form id="newCategoryForm">
          <div class="form-group">
            <label for="categoryName" class="form-label">Category Name</label>
            <input type="text" id="categoryName" class="form-input" placeholder="e.g., Appetizers">
          </div>
          <div class="form-group">
            <label for="categoryDesc" class="form-label">Description (Optional)</label>
            <textarea id="categoryDesc" class="form-input" rows="3"></textarea>
          </div>
        </form>
      </div>
      <footer class="modal-footer">
        <button class="btn btn--secondary modal-close-btn">Cancel</button>
        <button type="submit" form="newCategoryForm" class="btn btn--primary">Save Category</button>
      </footer>
    </div>
  </div>

  <!-- Informational Modal -->
  <div class="modal-overlay" id="infoModal" role="dialog" aria-modal="true" aria-labelledby="infoModalTitle" aria-describedby="infoModalDesc">
    <div class="modal-dialog">
      <header class="modal-header">
        <h2 id="infoModalTitle" class="modal-title">Account Approved</h2>
        <button class="modal-close-btn" aria-label="Close">
            <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 6L6 18M6 6l12 12"/></svg>
        </button>
      </header>
      <div id="infoModalDesc" class="modal-body">
        <p>Congratulations! Your vendor account has been successfully approved. You can now log in to set up your store and add products.</p>
      </div>
      <footer class="modal-footer">
        <button class="btn btn--primary modal-close-btn">OK</button>
      </footer>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const triggerButtons = document.querySelectorAll('[data-modal-target]');
      let lastFocusedElement;

      const openModal = (modal) => {
        if (!modal) return;
        lastFocusedElement = document.activeElement;
        const overlay = modal.closest('.modal-overlay');
        document.body.classList.add('modal-is-open');
        overlay.classList.add('is-open');

        const focusableElements = 'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])';
        const firstFocusableElement = overlay.querySelectorAll(focusableElements)[0];
        
        overlay.addEventListener('keydown', (e) => trapFocus(e, overlay));
        
        // Timeout to allow for transition
        setTimeout(() => {
            if (firstFocusableElement) {
                firstFocusableElement.focus();
            }
        }, 100);
      };

      const closeModal = (modal) => {
        if (!modal) return;
        const overlay = modal.closest('.modal-overlay');
        document.body.classList.remove('modal-is-open');
        overlay.classList.remove('is-open');
        if (lastFocusedElement) {
          lastFocusedElement.focus();
        }
      };

      const trapFocus = (e, overlay) => {
          const focusableElements = 'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])';
          const focusableContent = overlay.querySelectorAll(focusableElements);
          const firstFocusableElement = focusableContent[0];
          const lastFocusableElement = focusableContent[focusableContent.length - 1];
          
          if (e.key === 'Tab') {
            if (e.shiftKey) { // if shift key pressed for shift + tab combination
              if (document.activeElement === firstFocusableElement) {
                lastFocusableElement.focus(); // add focus for the last focusable element
                e.preventDefault();
              }
            } else { // if tab key is pressed
              if (document.activeElement === lastFocusableElement) { // if focused has reached to last focusable element then focus first focusable element after pressing tab
                firstFocusableElement.focus(); // add focus for the first focusable element
                e.preventDefault();
              }
            }
          }
      };

      triggerButtons.forEach(button => {
        button.addEventListener('click', () => {
          const modal = document.querySelector(button.dataset.modalTarget);
          openModal(modal);
        });
      });

      document.querySelectorAll('.modal-overlay').forEach(overlay => {
        // Close on backdrop click
        overlay.addEventListener('click', (e) => {
          if (e.target === overlay) {
            closeModal(overlay);
          }
        });
        
        // Close with close buttons
        overlay.querySelectorAll('.modal-close-btn').forEach(button => {
          button.addEventListener('click', () => {
            closeModal(overlay);
          });
        });
      });

      // Close with Escape key
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && document.body.classList.contains('modal-is-open')) {
          const openOverlay = document.querySelector('.modal-overlay.is-open');
          if (openOverlay) {
            closeModal(openOverlay);
          }
        }
      });
    });
  </script>
</body>
</html>